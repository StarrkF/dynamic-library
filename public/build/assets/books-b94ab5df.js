function b(){const r=async a=>await axios.get(a).then(function(o){return o.data}).catch(function(o){o.message}),e=async(a,o)=>await axios.get(a+"/"+o).then(function(t){return t.data}).catch(function(t){return t.message}),f=async(a,o)=>await axios.post(a,o).then(function(t){return t.data}).catch(function(t){return t.message}),m=async(a,o,t)=>await axios.put(a+"/"+o,t).then(function(n){return n.data}).catch(function(n){return n.message}),g=async(a,o)=>await axios.delete(a+"/"+o).then(function(t){return t.data}).catch(function(t){return t.message});function p(a,o){const t=[];for(let n=0;n<o;n++){const c=`#${[a[0]+Math.floor(Math.random()*50)-25,a[1]+Math.floor(Math.random()*50)-25,a[2]+Math.floor(Math.random()*50)-25].map(s=>Math.max(0,Math.min(255,s)).toString(16).padStart(2,"0")).join("")}`;t.push(c)}return console.log(t),t}function w(a){const o=[];for(let t=0;t<a;t++){const n=[Math.floor(Math.random()*256),Math.floor(Math.random()*256),Math.floor(Math.random()*256)],c=`#${[n[0]+Math.floor(Math.random()*50)-25,n[1]+Math.floor(Math.random()*50)-25,n[2]+Math.floor(Math.random()*50)-25].map(s=>Math.max(0,Math.min(255,s)).toString(16).padStart(2,"0")).join("")}`;o.push(c)}return o}function y(a,o){const t=[];for(const n of a){let i=parseInt(n.slice(1,3),16),c=parseInt(n.slice(3,5),16),s=parseInt(n.slice(5),16);i=Math.max(0,i-o),c=Math.max(0,c-o),s=Math.max(0,s-o);const M=`#${i.toString(16)}${c.toString(16)}${s.toString(16)}`;t.push(M)}return t}return{index:r,show:e,store:f,update:m,destroy:g,colorPallete:p,darkerColors:y,randomColor:w}}const{index:x,show:A,store:L,update:T,destroy:U,colorPallete:j,darkerColors:S,randomColor:k}=b(),l={},C=async()=>{let r=await x("/chart");l.value=r,B()};C();const u={},v=$(window).width()>=768,P={scales:{y:{beginAtZero:!0},x:{ticks:{display:!!v,maxRotation:40,minRotation:40,autoSkip:!1},barPercentage:.8,categoryPercentage:.9}},responsive:!0,maintainAspectRatio:!1};function B(){u.labels=l.value.map(e=>e.name);const r=k(l.value.length);S(r,20),u.datasets=[{label:"Tür / Kitap Sayısı",data:l.value.map(e=>e.books_count),backgroundColor:r,borderColor:"#000",borderWidth:1}]}var I=document.getElementById("myChart");new Chart(I,{type:"bar",data:u,options:P});const h=new URL(window.location.href);R(["byType","byStatus","byLibrary","byListType","search","perPage"]);$(".form-filter").change(function(){d(this.id,this.value)});$("#searchButton").click(function(){d("search",$("#search").val())});$(document).on("click",".orderBy",function(){d("orderBy",this.id)});$("#search").on("keydown",function(r){r.key==="Enter"&&$("#searchButton").trigger("click")});$(".clearUrl").click(function(){window.location.href=window.location.origin+window.location.pathname});function d(r,e){r&&h.searchParams.set(r,e),window.location.href=h.toString()}function R(r){r.map(e=>{h.searchParams.get(e)&&$("#"+e).val(h.searchParams.get(e))})}
