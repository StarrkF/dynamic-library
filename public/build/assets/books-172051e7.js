import{u as c}from"./config-e723baac.js";const{index:l,show:x,store:B,update:S,destroy:D,colorPallete:R,darkerColors:u,randomColor:p}=c(),e={},h=async()=>{let t=await l("/chart");e.value=t,w()};h();const o={},y=$(window).width()>=768,m={scales:{y:{beginAtZero:!0},x:{ticks:{display:!!y,maxRotation:40,minRotation:40,autoSkip:!1},barPercentage:.8,categoryPercentage:.9}},responsive:!0,maintainAspectRatio:!1};function w(){o.labels=e.value.map(a=>a.name);const t=p(e.value.length);u(t,20),o.datasets=[{label:"Tür / Kitap Sayısı",data:e.value.map(a=>a.books_count),backgroundColor:t,borderColor:"#000",borderWidth:1}]}var f=document.getElementById("myChart");new Chart(f,{type:"bar",data:o,options:m});const{index:g,show:b,update:k}=c(),n=new URL(window.location.href),i=[];P(["byType","byStatus","byLibrary","byListType","search","perPage"]);$(".form-filter").change(function(){r(this.id,this.value)});$("#searchButton").click(function(){r("search",$("#search").val())});$(document).on("click",".orderBy",function(){r("orderBy",this.id)});$("#search").on("keydown",function(t){t.key==="Enter"&&$("#searchButton").trigger("click")});$(".clearUrl").click(function(){window.location.href=window.location.origin+window.location.pathname});$(document).on("click","#editType",function(){$(".storeType").attr("hidden",!0),$(".updateType").attr("hidden",!1),$(".updateType").attr("data-typeid",$(this).data("typeid")),v($(this).data("typeid"))});$(document).on("click",".updateType",function(){C($(this).data("typeid")),location.reload()});$(document).on("change",".draw-select",function(){var t=this.id.replace("draw_","");i[t]=this.value});$(document).on("click","#getDraw",function(){T().then(t=>{let a="<h2>"+t.name+"</h2>",s="<h4>"+t.author+"</h4>",d="<h5>Kitap Türü: "+t.type.name+" - Konum: "+t.list_type_name+" - Durum: "+t.status_name+"</h5>";$(".card-result").attr("hidden",!1),$(".card-result .card-body").html(a+s+d),$(".draw-select").val("")})});async function v(t){const a=await b("/type",t);$("#type_name").val(a.name)}async function T(){var t=Object.assign({},i);return(await g("/draw?"+$.param(t))).data}async function C(t){await k("/type",t,{name:$("#type_name").val()})}function r(t,a){t&&n.searchParams.set(t,a),window.location.href=n.toString()}function P(t){t.map(a=>{n.searchParams.get(a)&&$("#"+a).val(n.searchParams.get(a))})}
