import{u as T}from"./config-e723baac.js";import{e as y,f as P,o as n,c as i,a as e,g as m,v,F as f,h,t as o,i as w,u as L,d as $,j as F}from"./app-a7c6b15a.js";const S={class:"card"},V=e("div",{class:"card-header"},"Filtreler",-1),q={class:"card-body"},z={class:"d-flex flex-column flex-md-row gap-4 align-items-end"},D=e("div",{class:"mb-4 w-100"},[e("label",{for:"perPage"},"Listele"),e("select",{id:"perPage",class:"form-select form-filter",required:""},[e("option",null,"25"),e("option",{selected:""},"50"),e("option",null,"100"),e("option",null,"200")])],-1),K={class:"mb-4 w-100"},U=e("label",null,"Durum",-1),Y=e("option",{value:""},"Filtreyi Temizle",-1),C=["value"],j={class:"mb-4 w-100"},M=e("label",null,"Kitap Türü",-1),N=e("option",{value:""},"Filtreyi Temizle",-1),A=["value"],I={class:"mb-4 w-100"},O=e("label",null,"Listelenecek Yer",-1),E=e("option",{value:""},"Filtreyi Temizle",-1),R=["value"],G={class:"mb-4 w-100"},H=e("label",null,"Kütüphanede",-1),J=e("option",{value:""},"Filtreyi Temizle",-1),Q=["value"],W={class:"mb-4 w-100 input-group mb-4"},X=e("button",{class:"btn btn-outline-dark",type:"button"},[e("i",{class:"fa-solid fa-magnifying-glass"})],-1),Z={__name:"Filters",props:{getBooks:{type:Function},filterParams:{type:Object}},setup(s){const{index:u}=T(),a=y({}),c=()=>{u("type").then(r=>{a.value.types=r,console.log(r)}),u("status").then(r=>{a.value.status=r.data}),u("list_types").then(r=>{a.value.list_types=r.data}),u("libraries").then(r=>{a.value.libraries=r.data})};return P(()=>{c()}),(r,l)=>(n(),i("div",S,[V,e("div",q,[e("div",z,[D,e("div",K,[U,m(e("select",{class:"form-select form-filter","onUpdate:modelValue":l[0]||(l[0]=t=>s.filterParams.byStatus=t),onChange:l[1]||(l[1]=(...t)=>s.getBooks&&s.getBooks(...t)),required:""},[Y,(n(!0),i(f,null,h(a.value.status,t=>(n(),i("option",{value:t.id},o(t.name),9,C))),256))],544),[[v,s.filterParams.byStatus]])]),e("div",j,[M,m(e("select",{class:"form-select form-filter","onUpdate:modelValue":l[2]||(l[2]=t=>s.filterParams.byType=t),onChange:l[3]||(l[3]=(...t)=>s.getBooks&&s.getBooks(...t)),required:""},[N,(n(!0),i(f,null,h(a.value.types,t=>(n(),i("option",{value:t.id},o(t.name),9,A))),256))],544),[[v,s.filterParams.byType]])]),e("div",I,[O,m(e("select",{class:"form-select form-filter","onUpdate:modelValue":l[4]||(l[4]=t=>s.filterParams.byListType=t),onChange:l[5]||(l[5]=(...t)=>s.getBooks&&s.getBooks(...t)),required:""},[E,(n(!0),i(f,null,h(a.value.list_types,t=>(n(),i("option",{value:t.id},o(t.name),9,R))),256))],544),[[v,s.filterParams.byListType]])]),e("div",G,[H,m(e("select",{class:"form-select form-filter","onUpdate:modelValue":l[6]||(l[6]=t=>s.filterParams.byLibrary=t),onChange:l[7]||(l[7]=(...t)=>s.getBooks&&s.getBooks(...t)),required:""},[J,(n(!0),i(f,null,h(a.value.libraries,t=>(n(),i("option",{value:t.id},o(t.name),9,Q))),256))],544),[[v,s.filterParams.byLibrary]])]),e("div",W,[m(e("input",{type:"text",class:"form-control","onUpdate:modelValue":l[8]||(l[8]=t=>s.filterParams.search=t),onInput:l[9]||(l[9]=(...t)=>s.getBooks&&s.getBooks(...t)),placeholder:"Kitap, Yazar"},null,544),[[w,s.filterParams.search]]),X])])])]))}},ee={class:"card"},te=e("div",{class:"card-header"},null,-1),se={class:"card-body"},le={key:0,class:"d-flex justify-content-center align-items-center",style:{height:"70vh"}},ae=e("div",{class:"spinner-border",role:"status"},[e("span",{class:"sr-only"},"Loading...")],-1),oe=[ae],ne={key:1,class:"table-responsive"},ie={class:"table table-striped table-hover"},re=e("thead",null,[e("tr",null,[e("th",{scope:"col"},[e("i",{role:"button",id:"asc",class:"orderBy fa-solid fa-arrow-up fa-xs"}),e("i",{role:"button",id:"desc",class:"orderBy fa-solid fa-arrow-down fa-xs"}),F(" ID ")]),e("th",{scope:"col"},"Kitap"),e("th",{scope:"col"},"Yazar"),e("th",{scope:"col"},"Yayıncı"),e("th",{scope:"col"},"Sayfa"),e("th",{scope:"col"},"Tür"),e("th",{scope:"col"},"Satın Alma"),e("th",{scope:"col"},"Okunma"),e("th",{scope:"col"},"Listelenecek Yer"),e("th",{scope:"col"},"Durum"),e("th",{scope:"col"},"Kütüphanede"),e("th",{scope:"col"},"İşlem")])],-1),de=e("td",null,[e("button",{type:"button",class:"btn btn-outline-dark"},[e("i",{class:"fa-regular fa-pen-to-square"})]),e("a",{href:"",onclick:" return confirm('Silmek istediğine emin misin?');",class:"btn btn-outline-danger"},[e("i",{class:"fa-solid fa-trash-can"})])],-1),fe={__name:"Books",setup(s){const u=y(null),a=y({}),c=y(!1),{index:r,show:l,update:t}=T(),b=L(),p=()=>{c.value=!0,r("books",a.value.byType,a.value.byListType,a.value.byStatus,a.value.byLibrary,a.value.search).then(g=>{u.value=g.data,c.value=!1})};return P(()=>{b.params.id&&(a.value.byListType=b.params.id),p()}),(g,ue)=>(n(),i("div",ee,[te,e("div",se,[$(Z,{"get-books":p,"filter-params":a.value},null,8,["filter-params"]),c.value?(n(),i("div",le,oe)):(n(),i("div",ne,[e("table",ie,[re,e("tbody",null,[(n(!0),i(f,null,h(u.value,d=>{var _,B,k,x;return n(),i("tr",null,[e("th",null,o(d.id),1),e("td",null,o(d.name),1),e("td",null,[e("a",null,o(d.author),1)]),e("td",null,o(d.publisher),1),e("td",null,o(d.page_count),1),e("td",null,o((_=d.type)==null?void 0:_.name),1),e("td",null,o(d.buy_date),1),e("td",null,o(d.read_date),1),e("td",null,o((B=d.list_type)==null?void 0:B.name),1),e("td",null,o((k=d.status)==null?void 0:k.name),1),e("td",null,o((x=d.in_library)==null?void 0:x.name),1),de])}),256))])])]))])]))}};export{fe as default};
